{"id":"opencode-evals-j39","title":"Epic: opencode-evals - Lightweight evaluation framework for OpenCode plugins","description":"A bun-based evaluation framework that plugins include as a dev dependency. Supports code evaluators, LLM-as-judge, A/B variant comparison, and full JSON event stream capture.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-10T15:19:18.816115-06:00","created_by":"emiller","updated_at":"2026-01-10T15:19:18.816115-06:00"}
{"id":"opencode-evals-j39.1","title":"Phase 1: Foundation - Core types, sandbox, runner, code evaluator","description":"Get something working end-to-end:\n- [ ] Project setup (package.json, tsconfig.json)\n- [ ] Core types (types.ts) - Dataset, Example, EvalConfig, VariantConfig, Assertion, Experiment, Feedback\n- [ ] Sandbox creation (sandbox.ts) - temp dir + fixture management\n- [ ] Basic runner (runner.ts) - single variant, single example execution\n- [ ] Code evaluator (evaluators/code.ts) - file_exists, file_contains, file_not_contains\n- [ ] CLI skeleton (index.ts) - 'run' command with commander\n- [ ] One fixture (fixtures/empty/)\n- [ ] One example eval (examples/basic-assertions/)","status":"in_progress","priority":1,"issue_type":"task","created_at":"2026-01-10T15:19:30.53431-06:00","created_by":"emiller","updated_at":"2026-01-10T15:20:21.059242-06:00","dependencies":[{"issue_id":"opencode-evals-j39.1","depends_on_id":"opencode-evals-j39","type":"parent-child","created_at":"2026-01-10T15:19:30.553622-06:00","created_by":"emiller"}]}
{"id":"opencode-evals-j39.2","title":"Phase 2: Capture \u0026 Report - Event stream parsing, JSON/markdown output","description":"Make results useful:\n- [ ] Event stream capture (capture.ts) - parse 'opencode run --format json' output\n- [ ] Tool call extraction from events\n- [ ] Reporter (reporter.ts) - JSON output\n- [ ] Experiment summaries (pass_rate, avg_score, tokens, duration)\n- [ ] 'report' command for markdown output","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T15:19:31.261735-06:00","created_by":"emiller","updated_at":"2026-01-10T15:19:31.261735-06:00","dependencies":[{"issue_id":"opencode-evals-j39.2","depends_on_id":"opencode-evals-j39","type":"parent-child","created_at":"2026-01-10T15:19:31.265662-06:00","created_by":"emiller"},{"issue_id":"opencode-evals-j39.2","depends_on_id":"opencode-evals-j39.1","type":"blocks","created_at":"2026-01-10T15:19:58.481169-06:00","created_by":"emiller"},{"issue_id":"opencode-evals-j39.2","depends_on_id":"opencode-evals-j39.7","type":"blocks","created_at":"2026-01-10T15:19:58.742399-06:00","created_by":"emiller"}]}
{"id":"opencode-evals-j39.3","title":"Phase 3: Multi-Variant - A/B testing between variants","description":"Enable A/B testing:\n- [ ] Multi-variant execution in runner\n- [ ] Variant-specific setup commands (e.g., 'jj git init' vs 'git init')\n- [ ] Compare command (compare two experiment results)\n- [ ] Side-by-side comparison reports","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T15:19:31.754678-06:00","created_by":"emiller","updated_at":"2026-01-10T15:19:31.754678-06:00","dependencies":[{"issue_id":"opencode-evals-j39.3","depends_on_id":"opencode-evals-j39","type":"parent-child","created_at":"2026-01-10T15:19:31.758796-06:00","created_by":"emiller"},{"issue_id":"opencode-evals-j39.3","depends_on_id":"opencode-evals-j39.2","type":"blocks","created_at":"2026-01-10T15:19:59.018729-06:00","created_by":"emiller"}]}
{"id":"opencode-evals-j39.4","title":"Phase 4: LLM-as-Judge - Advanced evaluation with criteria","description":"Advanced evaluation:\n- [ ] LLM judge evaluator (evaluators/llm-judge.ts)\n- [ ] Anthropic SDK integration (claude-3-haiku default)\n- [ ] Reference-free mode (no expected outputs needed)\n- [ ] Criteria evaluation with scoring and comments","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T15:19:33.809549-06:00","created_by":"emiller","updated_at":"2026-01-10T15:19:33.809549-06:00","dependencies":[{"issue_id":"opencode-evals-j39.4","depends_on_id":"opencode-evals-j39","type":"parent-child","created_at":"2026-01-10T15:19:33.813911-06:00","created_by":"emiller"},{"issue_id":"opencode-evals-j39.4","depends_on_id":"opencode-evals-j39.2","type":"blocks","created_at":"2026-01-10T15:19:59.25537-06:00","created_by":"emiller"}]}
{"id":"opencode-evals-j39.5","title":"Phase 5: Polish - Production readiness","description":"Make it production-ready:\n- [ ] Plugin resolution (node_modules + paths)\n- [ ] Dry-run mode (--dry-run flag)\n- [ ] Better error messages\n- [ ] Unit tests (test/)\n- [ ] More fixtures (git-repo/, simple-ts/)\n- [ ] Documentation (README.md)\n- [ ] Example evals for opencode-jj","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-10T15:19:36.427526-06:00","created_by":"emiller","updated_at":"2026-01-10T15:19:36.427526-06:00","dependencies":[{"issue_id":"opencode-evals-j39.5","depends_on_id":"opencode-evals-j39","type":"parent-child","created_at":"2026-01-10T15:19:36.431399-06:00","created_by":"emiller"},{"issue_id":"opencode-evals-j39.5","depends_on_id":"opencode-evals-j39.3","type":"blocks","created_at":"2026-01-10T15:19:59.492714-06:00","created_by":"emiller"},{"issue_id":"opencode-evals-j39.5","depends_on_id":"opencode-evals-j39.4","type":"blocks","created_at":"2026-01-10T15:19:59.732293-06:00","created_by":"emiller"}]}
{"id":"opencode-evals-j39.6","title":"Design: Plugin resolution strategy","description":"Decide where plugins are resolved from when 'plugins: [\"jj-opencode\"]' is specified:\n1. Try node_modules/ of the plugin being tested\n2. Try ~/.config/opencode/plugin/ (global)\n3. Treat as path if contains '/' or '.'\n\nThis is currently unknown - need to determine based on how OpenCode loads plugins.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-10T15:19:43.743609-06:00","created_by":"emiller","updated_at":"2026-01-10T15:19:43.743609-06:00","dependencies":[{"issue_id":"opencode-evals-j39.6","depends_on_id":"opencode-evals-j39","type":"parent-child","created_at":"2026-01-10T15:19:43.745991-06:00","created_by":"emiller"}]}
{"id":"opencode-evals-j39.7","title":"Spike: Verify opencode run --format json event stream","description":"Run a test command to capture actual output from 'opencode run --format json'.\nNeed to understand:\n- Event structure/schema\n- How tool calls are represented\n- Token usage reporting\n- Exit codes and error handling\n\nThis blocks Phase 2 (capture.ts implementation).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-10T15:19:46.405968-06:00","created_by":"emiller","updated_at":"2026-01-10T15:21:30.338037-06:00","closed_at":"2026-01-10T15:21:30.338037-06:00","close_reason":"Event stream format documented: NDJSON with step_start/tool_use/text/step_finish events","dependencies":[{"issue_id":"opencode-evals-j39.7","depends_on_id":"opencode-evals-j39","type":"parent-child","created_at":"2026-01-10T15:19:46.406687-06:00","created_by":"emiller"}]}
{"id":"opencode-evals-j39.8","title":"Design: Fixture management strategy","description":"Decide fixture approach (user chose: mix of both):\n- Basic fixtures committed in fixtures/ (empty, git-repo, simple-ts)\n- Complex fixtures generated on-demand via scripts\n\nNeed to implement both patterns.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-10T15:19:48.524477-06:00","created_by":"emiller","updated_at":"2026-01-10T15:19:48.524477-06:00","dependencies":[{"issue_id":"opencode-evals-j39.8","depends_on_id":"opencode-evals-j39","type":"parent-child","created_at":"2026-01-10T15:19:48.525565-06:00","created_by":"emiller"}]}
{"id":"opencode-evals-j39.9","title":"Design: Error handling configuration","description":"User chose: all of the above as config options. Implement configurable error handling:\n- on_error: 'continue' | 'abort' | 'retry'\n- retry_count: number (default: 0)\n- timeout_ms: number (default: 120000)\n\nWhen eval fails (OpenCode crashes, timeout):\n- continue: mark as failed, continue other examples\n- abort: stop entire experiment\n- retry: retry up to retry_count times before failing","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-10T15:19:52.589546-06:00","created_by":"emiller","updated_at":"2026-01-10T15:19:52.589546-06:00","dependencies":[{"issue_id":"opencode-evals-j39.9","depends_on_id":"opencode-evals-j39","type":"parent-child","created_at":"2026-01-10T15:19:52.592475-06:00","created_by":"emiller"}]}
